"use strict";exports.id=978,exports.ids=[978],exports.modules={6137:(e,t,a)=>{a.d(t,{U:()=>u});var s=a(60687),r=a(10218),n=a(29523),i=a(43210),d=a(4780),l=a(363),o=a(21134),c=a(19700);function u({className:e}){let{theme:t,setTheme:a}=(0,r.D)(),[u,m]=(0,i.useState)(!1);return u?(0,s.jsxs)(n.$,{variant:"ghost",className:(0,d.cn)("border-none transition-all duration-300 hover:bg-transparent hover:text-current dark:hover:bg-transparent p-0 pl-4",e),onClick:()=>{a("dark"===t?"light":"dark")},children:[(0,s.jsx)("span",{className:`flex items-center p-0.5 bg-gray-100 w-[45px] rounded-full border border-gray-400 hover:border-accent transition-transform duration-300 ease-in-out ${"dark"===t&&"justify-end dark:border-[#3D3F45] dark:bg-[#282A2F] dark:text-white dark:hover:border-accent"}`,children:"dark"===t?(0,s.jsx)("div",{className:"bg-gray-900 p-1 rounded-full shadow-md",children:(0,s.jsx)(l.A,{className:"size-3"})}):(0,s.jsx)("div",{className:"bg-white p-[3px] rounded-full shadow-md",children:(0,s.jsx)(o.A,{className:"size-2.5"})})}),(0,s.jsx)("span",{className:"sr-only",children:(0,s.jsx)(c.A,{defaultMessage:"Theme wechseln",id:"ThemeToggle.changeTheme"})})]}):(0,s.jsxs)(n.$,{variant:"ghost",className:(0,d.cn)("button-clickable cursor-pointer",e),children:[(0,s.jsx)("span",{className:"text-xs tracking-wide",children:(0,s.jsx)(c.A,{defaultMessage:"mode",id:"ThemeToggle.mode"})}),(0,s.jsx)("span",{className:"sr-only",children:(0,s.jsx)(c.A,{defaultMessage:"Thema wechseln",id:"ThemeToggle.changeTheme"})})]})}},12982:(e,t,a)=>{a.d(t,{J:()=>g});var s=a(60687),r=a(97499),n=a(43210),i=a(29523),d=a(4780),l=a(19700),o=a(9107),c=a(16189),u=a(15079);let m={de:"Deutsch",en:"English"};function g(){let[e,t]=(0,n.useState)(!1),a=(0,c.useParams)(),g=(0,c.usePathname)(),x=(0,c.useSearchParams)(),p=(0,c.useRouter)(),f=a.locale;return e?(0,s.jsxs)(u.l6,{value:f,onValueChange:e=>{let t=g.replace(`/${f}`,"")||"",a=x.toString(),s=`/${e}${t}${a?`?${a}`:""}`;p.push(s)},children:[(0,s.jsxs)(u.bq,{className:"flex gap-x-1 cursor-pointer border-none !bg-transparent dark:!bg-transparent hover:bg-gray-100/50 dark:hover:bg-gray-800/50 w-auto",children:[(0,s.jsx)(r.A,{className:"size-4"}),(0,s.jsx)(u.yv,{placeholder:"Language"})]}),(0,s.jsx)(u.gC,{children:Object.keys(o.DZ).map(e=>(0,s.jsx)(u.eb,{className:"cursor-pointer",value:e,children:m[e]},e))})]}):(0,s.jsxs)(i.$,{variant:"ghost",className:(0,d.cn)("cursor-pointer"),children:[(0,s.jsx)("span",{className:"text-xs tracking-wide",children:(0,s.jsx)(l.A,{defaultMessage:"Sprache wechseln",id:"ThemeToggle.languageToggle"})}),(0,s.jsx)("span",{className:"sr-only",children:(0,s.jsx)(l.A,{defaultMessage:"Sprache wechseln",id:"ThemeToggle.languageToggle"})})]})}},15079:(e,t,a)=>{a.d(t,{bq:()=>u,eb:()=>g,gC:()=>m,l6:()=>o,yv:()=>c});var s=a(60687);a(43210);var r=a(22903),n=a(78272),i=a(13964),d=a(3589),l=a(4780);function o({...e}){return(0,s.jsx)(r.bL,{"data-slot":"select",...e})}function c({...e}){return(0,s.jsx)(r.WT,{"data-slot":"select-value",...e})}function u({className:e,size:t="default",children:a,...i}){return(0,s.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":t,className:(0,l.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&>span]:line-clamp-1",e),...i,children:[a,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function m({className:e,children:t,position:a="popper",...n}){return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"select-content",className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...n,children:[(0,s.jsx)(x,{}),(0,s.jsx)(r.LM,{className:(0,l.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,s.jsx)(p,{})]})})}function g({className:e,children:t,...a}){return(0,s.jsxs)(r.q7,{"data-slot":"select-item",className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(i.A,{className:"size-4"})})}),(0,s.jsx)(r.p4,{children:t})]})}function x({className:e,...t}){return(0,s.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(d.A,{className:"size-4"})})}function p({className:e,...t}){return(0,s.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(n.A,{className:"size-4"})})}},28863:(e,t,a)=>{a.d(t,{y:()=>s});let s=(0,a(9552).MB)({baseURL:"http://localhost:3000"})},40988:(e,t,a)=>{a.d(t,{AM:()=>i,Wv:()=>d,hl:()=>l});var s=a(60687);a(43210);var r=a(52159),n=a(4780);function i({...e}){return(0,s.jsx)(r.bL,{"data-slot":"popover",...e})}function d({...e}){return(0,s.jsx)(r.l9,{"data-slot":"popover-trigger",...e})}function l({className:e,align:t="center",sideOffset:a=4,...i}){return(0,s.jsx)(r.ZL,{children:(0,s.jsx)(r.UC,{"data-slot":"popover-content",align:t,sideOffset:a,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...i})})}},44493:(e,t,a)=>{a.d(t,{BT:()=>l,Wu:()=>c,X9:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>u});var s=a(60687);a(43210);var r=a(4780);function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function d({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}function o({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-action",className:(0,r.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...t})}function c({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}function u({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}},70362:(e,t,a)=>{a.d(t,{Navigation:()=>u});var s=a(60687),r=a(30474),n=a(12982),i=a(6137),d=a(4780),l=a(85814),o=a.n(l),c=a(16189);function u({className:e}){let{locale:t}=(0,c.useParams)();return(0,s.jsx)("nav",{className:(0,d.cn)(e),children:(0,s.jsx)("div",{className:"container max-w-6xl mx-auto px-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)(o(),{className:"flex items-center gap-x-2",href:`/${t}`,children:[(0,s.jsx)(r.default,{alt:"Logo",src:"/logo.svg",width:28,height:28}),(0,s.jsx)("h1",{className:"text-xl font-medium tracking-tight",children:"taskify"})]}),(0,s.jsxs)("div",{className:"flex items-center p-0 md:px-4",children:[(0,s.jsx)(n.J,{}),(0,s.jsx)("div",{className:"mx-1",children:(0,s.jsx)("div",{className:"w-px h-6 bg-border"})}),(0,s.jsx)(i.U,{className:"cursor-pointer"})]})]})})})}},76107:(e,t,a)=>{a.d(t,{TaskInputForm:()=>B});var s=a(60687),r=a(29523),n=a(44493),i=a(4780),d=a(89667);let l=({className:e,id:t,label:a,value:r,onChange:n})=>(0,s.jsx)("div",{className:e,children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{htmlFor:t,className:"block mb-2 text-sm font-normal",children:a}),(0,s.jsx)(d.p,{onChange:e=>n(e.target.value),value:r,id:t,type:"text",className:(0,i.cn)("border border-border px-3 py-2 w-full dark:bg-input/60",e)})]})}),o=({id:e,label:t,value:a,className:r,onChange:n})=>(0,s.jsx)("div",{className:r,children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{htmlFor:"description",className:"block mb-2 text-sm font-normal",children:t}),(0,s.jsx)("textarea",{onChange:e=>n(e.target.value),value:a,id:e,className:(0,i.cn)("w-full min-h-[120px] px-3 py-2 border border-border transition-[color,box-shadow] outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background dark:bg-input/60 dark:border-[#3a3a3a] dark:text-foreground rounded-md",r)})]})});var c=a(43210),u=a(996);let m=({tag:e,onRemove:t})=>(0,s.jsxs)("span",{className:"bg-secondary text-muted-foreground px-3 py-1 text-xs flex items-center gap-1.5 border border-border",children:[e,(0,s.jsx)("button",{type:"button",onClick:t,className:"ml-1 text-muted-foreground hover:text-primary transition-colors cursor-pointer",children:"\xd7"})]});var g=a(14635);let x=({tags:e,setTags:t,className:a})=>{let[r,n]=(0,c.useState)(""),[l,o]=(0,c.useState)(null),{formatMessage:x}=(0,g.A)(),p=a=>{t(e.filter(e=>e!==a))};return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"tags",className:"block mb-2 text-sm font-normal",children:x({id:"TaskForm.labels.tags",defaultMessage:"Tags"})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.p,{id:"tags",type:"text",value:r,onChange:e=>{n(e.target.value),l&&o(null)},onKeyDown:a=>{if("Enter"===a.key&&""!==r.trim()){a.preventDefault();let s=r.trim();if(s.length<3)return void o(x({id:"TagInput.error.minLength",defaultMessage:"Tag muss mindestens 3 Zeichen lang sein."}));e.includes(s)||(t([...e,s]),o(null)),n("")}},className:(0,i.cn)("border border-border px-3 py-2 w-full pr-10",a),placeholder:x({id:"TagInput.placeholder",defaultMessage:"Enter dr\xfccken, um Tag hinzuzuf\xfcgen"})}),(0,s.jsx)(u.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:16})]}),l&&(0,s.jsx)("div",{className:"text-primary text-xs mt-1",children:l}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:e.map((e,t)=>(0,s.jsx)(m,{tag:e,onRemove:()=>p(e)},t))})]})};var p=a(93613);let f=({className:e,errors:t})=>(0,s.jsx)("div",{className:e,children:t.length>0&&(0,s.jsx)("div",{className:"mt-4 p-3",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 text-red-500 text-sm mb-1",children:[(0,s.jsx)(p.A,{size:16}),(0,s.jsx)("span",{children:e})]},t))})});var h=a(27605),b=a(16189),v=a(28863),j=a(8693),y=a(54050),k=a(52581),w=a(85338);let N=({task:e})=>{let{handleUpdateTask:t,isSuccessUpdateMutation:a}=function(){let e=(0,j.jE)(),{formatMessage:t}=(0,g.A)(),{data:a}=v.y.useSession(),s=(0,y.n)({mutationFn:async e=>{if(!a?.user?.id)throw Error("Not authenticated");return await w.n.updateTask(e)},onMutate:async t=>{if(!a?.user?.id||!t.id)return{prevData:[]};let s=w.n.queryKey.byUserAndStatus(a.user.id,!0),r=w.n.queryKey.byUserAndStatus(a.user.id,!1),n=w.n.queryKey.single(a.user.id,t.id);await e.cancelQueries({queryKey:s}),await e.cancelQueries({queryKey:r}),await e.cancelQueries({queryKey:n});let i=e.getQueryData(s)||[],d=e.getQueryData(r)||[],l=e.getQueryData(n),o=e=>e.map(e=>e.id===t.id?{...e,...t}:e);return e.setQueryData(s,o(i)),e.setQueryData(r,o(d)),l&&e.setQueryData(n,{...l,...t}),{prevCompletedData:i,prevOpenData:d,prevSingleData:l,completedQueryKey:s,openQueryKey:r,singleTaskQueryKey:n}},onSuccess:e=>{k.oR.success(`${t({id:"Toast.taskUpdated",defaultMessage:"Aufgabe aktualisiert"})}: „${e.title}"`)},onError:(s,r,n)=>{n&&a?.user?.id&&(n.prevCompletedData&&e.setQueryData(n.completedQueryKey,n.prevCompletedData),n.prevOpenData&&e.setQueryData(n.openQueryKey,n.prevOpenData),n.prevSingleData&&e.setQueryData(n.singleTaskQueryKey,n.prevSingleData),k.oR.error(t({id:"Toast.taskUpdateError",defaultMessage:"Fehler beim Aktualisieren der Aufgabe"})))},onSettled:async()=>{a?.user?.id&&await e.invalidateQueries({queryKey:w.n.queryKey.byUser(a.user.id)})}});return{handleUpdateTask:e=>{if(!a?.user?.id)return void k.oR.error(t({id:"Toast.notLoggedIn",defaultMessage:"Bitte loggen Sie sich ein"}));s.mutate(e)},isPendingUpdateMutation:s.isPending,isSuccessUpdateMutation:s.isSuccess,isEnabled:!!a?.user?.id}}(),{handleCreateTask:s,isSuccessCreateMutation:r}=function(){let e=(0,j.jE)(),{formatMessage:t}=(0,g.A)(),{data:a}=v.y.useSession(),s=(0,y.n)({mutationFn:w.n.createTask,onSuccess:s=>{a?.user?.id&&(e.invalidateQueries({queryKey:w.n.queryKey.byUser(a.user.id)}),k.oR.success(`${t({id:"Toast.taskCreated",defaultMessage:"Aufgabe erstellt"})}: „${s.title}"`))},onError:()=>{k.oR.error(t({id:"Toast.taskCreateError",defaultMessage:"Fehler beim Erstellen der Aufgabe"}))}});return{handleCreateTask:e=>{if(!a?.user?.id)return void k.oR.error(t({id:"Toast.notLoggedIn",defaultMessage:"Bitte loggen Sie sich ein"}));s.mutate(e)},isPendingCreateMutation:s.isPending,isSuccessCreateMutation:s.isSuccess,isEnabled:!!a?.user?.id}}(),n=(0,b.useRouter)(),i=(0,b.useParams)(),{control:d,handleSubmit:l,formState:{errors:o,isSubmitting:u}}=(0,h.mN)({defaultValues:{title:e?.title||"",description:e?.description||"",tags:e?.tags||[],dueDate:e?.dueDate||void 0,priority:e?.priority||0}});(0,c.useEffect)(()=>{if(a){let e=i.locale||"de";n.push(`/${e}`)}},[a,n,i]),(0,c.useEffect)(()=>{if(r){let e=i.locale||"de";n.push(`/${e}`)}},[r,n,i]);let m=Object.values(o).map(e=>e?.message??"");return{control:d,handleSubmit:l,handleCancel:()=>{let e=i.locale||"de";n.push(`/${e}`)},isSubmitting:u,errors:o,onSubmit:a=>{e?t({id:e.id,title:a.title,description:a.description,tags:a.tags,dueDate:a.dueDate,priority:a.priority}):s({title:a.title,description:a.description,tags:a.tags,dueDate:a.dueDate,priority:a.priority})},errorMessages:m}};var T=a(19700),M=a(78272),D=a(40988),z=a(47033),A=a(14952),F=a(99471),S=a(96143);function C({className:e,classNames:t,showOutsideDays:a=!0,captionLayout:n="label",buttonVariant:d="ghost",formatters:l,components:o,...c}){let u=(0,F.a)();return(0,s.jsx)(S.h,{showOutsideDays:a,className:(0,i.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:n,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...l},classNames:{root:(0,i.cn)("w-fit",u.root),months:(0,i.cn)("flex gap-4 flex-col md:flex-row relative",u.months),month:(0,i.cn)("flex flex-col w-full gap-4",u.month),nav:(0,i.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",u.nav),button_previous:(0,i.cn)((0,r.r)({variant:d}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",u.button_previous),button_next:(0,i.cn)((0,r.r)({variant:d}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",u.button_next),month_caption:(0,i.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",u.month_caption),dropdowns:(0,i.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",u.dropdowns),dropdown_root:(0,i.cn)("relative border border-input shadow-xs focus-within:ring-2 focus-within:ring-accent focus-within:ring-offset-2 focus-within:ring-offset-background rounded-md",u.dropdown_root),dropdown:(0,i.cn)("absolute inset-0 opacity-0",u.dropdown),caption_label:(0,i.cn)("select-none font-medium","label"===n?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",u.caption_label),table:"w-full border-collapse",weekdays:(0,i.cn)("flex",u.weekdays),weekday:(0,i.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",u.weekday),week:(0,i.cn)("flex w-full mt-2",u.week),week_number_header:(0,i.cn)("select-none w-(--cell-size)",u.week_number_header),week_number:(0,i.cn)("text-[0.8rem] select-none text-muted-foreground",u.week_number),day:(0,i.cn)("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",u.day),range_start:(0,i.cn)("rounded-l-md bg-accent",u.range_start),range_middle:(0,i.cn)("rounded-none",u.range_middle),range_end:(0,i.cn)("rounded-r-md bg-accent",u.range_end),today:(0,i.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",u.today),outside:(0,i.cn)("text-muted-foreground aria-selected:text-muted-foreground",u.outside),disabled:(0,i.cn)("text-muted-foreground opacity-50",u.disabled),hidden:(0,i.cn)("invisible",u.hidden),...t},components:{Root:({className:e,rootRef:t,...a})=>(0,s.jsx)("div",{"data-slot":"calendar",ref:t,className:(0,i.cn)(e),...a}),Chevron:({className:e,orientation:t,...a})=>"left"===t?(0,s.jsx)(z.A,{className:(0,i.cn)("size-4",e),...a}):"right"===t?(0,s.jsx)(A.A,{className:(0,i.cn)("size-4",e),...a}):(0,s.jsx)(M.A,{className:(0,i.cn)("size-4",e),...a}),DayButton:_,WeekNumber:({children:e,...t})=>(0,s.jsx)("td",{...t,children:(0,s.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:e})}),...o},...c})}function _({className:e,day:t,modifiers:a,...n}){let d=(0,F.a)(),l=c.useRef(null);return c.useEffect(()=>{a.focused&&l.current?.focus()},[a.focused]),(0,s.jsx)(r.$,{ref:l,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":a.selected&&!a.range_start&&!a.range_end&&!a.range_middle,"data-range-start":a.range_start,"data-range-end":a.range_end,"data-range-middle":a.range_middle,className:(0,i.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",d.day,e),...n})}var E=a(49829),L=a(13964);function $({className:e,...t}){return(0,s.jsx)(E.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,s.jsx)(E.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(L.A,{className:"size-3.5"})})})}function q({value:e,onChange:t}){let[a,n]=(0,c.useState)(!1),[i,l]=(0,c.useState)(e?new Date(e):void 0),[o,u]=(0,c.useState)(e?new Date(e).toTimeString().split(" ")[0].substring(0,5):void 0),[m,x]=(0,c.useState)(!!e),{formatMessage:p}=(0,g.A)();return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)($,{id:"show-datetime",checked:m,onCheckedChange:e=>{if(x(e),e){if(!i){let e=new Date;l(e),u(e.toTimeString().split(" ")[0].substring(0,5))}}else t(null)}}),(0,s.jsx)("label",{htmlFor:"show-datetime",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:(0,s.jsx)(T.A,{id:"DateTimePicker.addDueDate",defaultMessage:"F\xe4lligkeitsdatum hinzuf\xfcgen?"})})]}),m&&(0,s.jsxs)("div",{className:"flex gap-x-4",children:[(0,s.jsx)("div",{className:"flex flex-col gap-3",children:(0,s.jsxs)(D.AM,{open:a,onOpenChange:n,children:[(0,s.jsx)(D.Wv,{asChild:!0,children:(0,s.jsxs)(r.$,{variant:"outline",id:"date-picker",className:"justify-between font-normal",children:[i?i.toLocaleDateString():p({id:"DateTimePicker.selectDate",defaultMessage:"Datum ausw\xe4hlen"}),(0,s.jsx)(M.A,{})]})}),(0,s.jsx)(D.hl,{className:"w-auto overflow-hidden p-0",align:"start",children:(0,s.jsx)(C,{mode:"single",selected:i,captionLayout:"dropdown",onSelect:e=>{l(e),e&&!o&&u("00:00"),n(!1)}})})]})}),(0,s.jsx)("div",{className:"flex flex-col gap-3",children:(0,s.jsx)(d.p,{type:"time",id:"time-picker",step:"60",value:o,onChange:e=>u(e.target.value),className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]})]})}var Q=a(15079),P=a(80013),U=a(8819),K=a(96474);let R=e=>{switch(e){case 0:return"text-green-600 dark:text-green-400";case 1:return"text-yellow-600 dark:text-yellow-400";case 2:return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},B=({className:e,task:t})=>{let{control:a,handleSubmit:d,isSubmitting:c,errors:u,handleCancel:m,onSubmit:p,errorMessages:b}=N({task:t}),{formatMessage:v}=(0,g.A)();return(0,s.jsx)("div",{className:e,children:(0,s.jsxs)(n.Zp,{className:"border border-border bg-card shadow-sm",children:[(0,s.jsx)(n.aR,{className:"border-b border-border pb-6",children:(0,s.jsx)(n.ZB,{className:"text-2xl font-light tracking-tight flex items-center gap-3",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(U.A,{className:"w-6 h-6 text-primary"}),(0,s.jsx)(T.A,{defaultMessage:"Aufgabe bearbeiten",id:"TaskForm.editTask"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K.A,{className:"w-6 h-6 text-primary"}),(0,s.jsx)(T.A,{defaultMessage:"Aufgabe hinzuf\xfcgen",id:"TaskForm.addTask"})]})})}),(0,s.jsxs)("form",{onSubmit:d(p),children:[(0,s.jsxs)(n.Wu,{className:"flex flex-col gap-y-6 pt-6 px-6",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)(h.xI,{name:"priority",control:a,render:({field:e})=>(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsx)(P.J,{htmlFor:"priority",className:"text-sm font-medium",children:v({id:"TaskForm.labels.priority",defaultMessage:"Priorit\xe4t"})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(Q.l6,{value:e.value?.toString(),onValueChange:t=>e.onChange(parseInt(t)),children:[(0,s.jsx)(Q.bq,{className:"flex-1",children:(0,s.jsx)(Q.yv,{placeholder:v({id:"TaskForm.priority.placeholder",defaultMessage:"Priorit\xe4t ausw\xe4hlen"})})}),(0,s.jsxs)(Q.gC,{children:[(0,s.jsx)(Q.eb,{value:"0",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),v({id:"TaskForm.priority.low",defaultMessage:"Niedrig"})]})}),(0,s.jsx)(Q.eb,{value:"1",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),v({id:"TaskForm.priority.medium",defaultMessage:"Mittel"})]})}),(0,s.jsx)(Q.eb,{value:"2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"}),v({id:"TaskForm.priority.high",defaultMessage:"Hoch"})]})})]})]}),void 0!==e.value&&(0,s.jsxs)("div",{className:(0,i.cn)("text-sm font-medium",R(e.value)),children:[0===e.value&&"Niedrig",1===e.value&&"Mittel",2===e.value&&"Hoch"]})]})]})})}),(0,s.jsx)(h.xI,{name:"title",control:a,rules:{required:v({id:"TaskForm.title.required",defaultMessage:"Titel ist erforderlich"}),minLength:{value:3,message:v({id:"TaskForm.title.minLength",defaultMessage:"Titel muss mindestens 3 Zeichen lang sein"})},validate:e=>""!==e.trim()||v({id:"TaskForm.title.notEmpty",defaultMessage:"Titel darf nicht leer sein"})},render:({field:e})=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l,{id:"title",label:v({id:"TaskForm.labels.title",defaultMessage:"Titel"}),className:u.title&&"border-red-500",value:e.value,onChange:e.onChange}),u.title&&(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.title.message})]})}),(0,s.jsx)(h.xI,{name:"description",control:a,rules:{required:v({id:"TaskForm.description.required",defaultMessage:"Beschreibung ist erforderlich"}),minLength:{value:3,message:v({id:"TaskForm.description.minLength",defaultMessage:"Beschreibung muss mindestens 3 Zeichen lang sein"})},validate:e=>""!==e.trim()||v({id:"TaskForm.description.notEmpty",defaultMessage:"Beschreibung darf nicht leer sein"})},render:({field:e})=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o,{id:"description",label:v({id:"TaskForm.labels.description",defaultMessage:"Beschreibung"}),className:u.description&&"border-red-500 dark:border-red-500",value:e.value,onChange:e.onChange}),u.description&&(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.description.message})]})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(P.J,{className:"text-sm font-medium",children:v({id:"TaskForm.labels.dueDate",defaultMessage:"F\xe4lligkeitsdatum (optional)"})}),(0,s.jsx)(h.xI,{name:"dueDate",control:a,rules:{validate:e=>!e||e.getTime()>new Date().getTime()||v({id:"TaskForm.dueDate.invalid",defaultMessage:"F\xe4lligkeitsdatum muss in der Zukunft liegen"})},render:({field:e})=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(q,{value:e.value,onChange:e.onChange}),u.dueDate&&(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.dueDate.message})]})})]}),(0,s.jsx)(h.xI,{name:"tags",control:a,rules:{validate:e=>!!e&&e.length>0||v({id:"TaskForm.tags.id",defaultMessage:"Bitte mindestens einen Tag hinzuf\xfcgen"})},render:({field:e})=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x,{tags:e.value,setTags:e.onChange,className:u.tags&&"border-red-500"}),u.tags&&(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.tags.message})]})}),(0,s.jsx)(f,{errors:b})]}),(0,s.jsxs)(n.wL,{className:"pb-6 px-6 flex flex-col gap-4",children:[(0,s.jsx)(r.$,{className:"w-full py-3 text-base",type:"submit",disabled:c,children:c?"Wird gespeichert...":t?v({id:"TaskForm.submit.editTask",defaultMessage:"Aufgabe bearbeiten"}):v({id:"TaskForm.submit.addTask",defaultMessage:"Aufgabe hinzuf\xfcgen"})}),(0,s.jsx)(r.$,{type:"button",variant:"outline",className:"w-full py-3 text-base",onClick:m,disabled:c,children:v({id:"TaskForm.cancel",defaultMessage:"Abbrechen"})})]})]})]})})}},80013:(e,t,a)=>{a.d(t,{J:()=>i});var s=a(60687);a(43210);var r=a(1722),n=a(4780);function i({className:e,...t}){return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},85338:(e,t,a)=>{a.d(t,{n:()=>s});let s={baseQueryKey:["tasks"],queryKey:{byUser:e=>["tasks",{userId:e}],byUserAndStatus:(e,t)=>["tasks",{userId:e,completed:t}],single:(e,t)=>["tasks",{userId:e,taskId:t}],legacy:e=>["tasks",{completed:e}]},getTasks:async()=>{let e=await fetch("/api/tasks");if(!e.ok)throw Error("Failed to fetch tasks");return e.json()},getTask:async e=>{let t=await fetch(`/api/tasks/${e}`);if(!t.ok)throw Error("Failed to fetch task");return await t.json()},createTask:async e=>{let t=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create task");return t.json()},updateTask:async e=>{let t=await fetch(`/api/tasks/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to update task");return t.json()},deleteTask:async e=>{if(!(await fetch(`/api/tasks/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete task")}}},89667:(e,t,a)=>{a.d(t,{p:()=>n});var s=a(60687);a(43210);var r=a(4780);function n({className:e,type:t,...a}){return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}}};