"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{2520:(e,t,a)=>{a.d(t,{n:()=>r});let r={baseQueryKey:["tasks"],queryKey:{byUser:e=>["tasks",{userId:e}],byUserAndStatus:(e,t)=>["tasks",{userId:e,completed:t}],single:(e,t)=>["tasks",{userId:e,taskId:t}],legacy:e=>["tasks",{completed:e}]},getTasks:async()=>{let e=await fetch("/api/tasks");if(!e.ok)throw Error("Failed to fetch tasks");return e.json()},getTask:async e=>{let t=await fetch("/api/tasks/".concat(e));if(!t.ok)throw Error("Failed to fetch task");return await t.json()},createTask:async e=>{let t=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create task");return t.json()},updateTask:async e=>{let t=await fetch("/api/tasks/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to update task");return t.json()},deleteTask:async e=>{if(!(await fetch("/api/tasks/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete task")}}},4636:(e,t,a)=>{a.d(t,{AM:()=>i,Wv:()=>d,hl:()=>l});var r=a(5155);a(2115);var s=a(4166),n=a(9434);function i(e){let{...t}=e;return(0,r.jsx)(s.bL,{"data-slot":"popover",...t})}function d(e){let{...t}=e;return(0,r.jsx)(s.l9,{"data-slot":"popover-trigger",...t})}function l(e){let{className:t,align:a="center",sideOffset:i=4,...d}=e;return(0,r.jsx)(s.ZL,{children:(0,r.jsx)(s.UC,{"data-slot":"popover-content",align:a,sideOffset:i,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...d})})}},5036:(e,t,a)=>{a.d(t,{TaskInputForm:()=>W});var r=a(5155),s=a(285),n=a(6695),i=a(9434),d=a(2523);let l=e=>{let{className:t,id:a,label:s,value:n,onChange:l}=e;return(0,r.jsx)("div",{className:t,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{htmlFor:a,className:"block mb-2 text-sm font-normal",children:s}),(0,r.jsx)(d.p,{onChange:e=>l(e.target.value),value:n,id:a,type:"text",className:(0,i.cn)("border border-border px-3 py-2 w-full dark:bg-input/60",t)})]})})},o=e=>{let{id:t,label:a,value:s,className:n,onChange:d}=e;return(0,r.jsx)("div",{className:n,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{htmlFor:"description",className:"block mb-2 text-sm font-normal",children:a}),(0,r.jsx)("textarea",{onChange:e=>d(e.target.value),value:s,id:t,className:(0,i.cn)("w-full min-h-[120px] px-3 py-2 border border-border transition-[color,box-shadow] outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background dark:bg-input/60 dark:border-[#3a3a3a] dark:text-foreground rounded-md",n)})]})})};var c=a(2115),u=a(7150);let m=e=>{let{tag:t,onRemove:a}=e;return(0,r.jsxs)("span",{className:"bg-secondary text-muted-foreground px-3 py-1 text-xs flex items-center gap-1.5 border border-border",children:[t,(0,r.jsx)("button",{type:"button",onClick:a,className:"ml-1 text-muted-foreground hover:text-primary transition-colors cursor-pointer",children:"\xd7"})]})};var g=a(7011);let p=e=>{let{tags:t,setTags:a,className:s}=e,[n,l]=(0,c.useState)(""),[o,p]=(0,c.useState)(null),{formatMessage:f}=(0,g.A)(),x=e=>{a(t.filter(t=>t!==e))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tags",className:"block mb-2 text-sm font-normal",children:f({id:"TaskForm.labels.tags",defaultMessage:"Tags"})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.p,{id:"tags",type:"text",value:n,onChange:e=>{l(e.target.value),o&&p(null)},onKeyDown:e=>{if("Enter"===e.key&&""!==n.trim()){e.preventDefault();let r=n.trim();if(r.length<3)return void p(f({id:"TagInput.error.minLength",defaultMessage:"Tag muss mindestens 3 Zeichen lang sein."}));t.includes(r)||(a([...t,r]),p(null)),l("")}},className:(0,i.cn)("border border-border px-3 py-2 w-full pr-10",s),placeholder:f({id:"TagInput.placeholder",defaultMessage:"Enter dr\xfccken, um Tag hinzuzuf\xfcgen"})}),(0,r.jsx)(u.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:16})]}),o&&(0,r.jsx)("div",{className:"text-primary text-xs mt-1",children:o}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-3",children:t.map((e,t)=>(0,r.jsx)(m,{tag:e,onRemove:()=>x(e)},t))})]})};var f=a(5339);let x=e=>{let{className:t,errors:a}=e;return(0,r.jsx)("div",{className:t,children:a.length>0&&(0,r.jsx)("div",{className:"mt-4 p-3",children:a.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-500 text-sm mb-1",children:[(0,r.jsx)(f.A,{size:16}),(0,r.jsx)("span",{children:e})]},t))})})};var h=a(2177),b=a(5695),v=a(7297),y=a(6715),k=a(5041),j=a(6671),w=a(2520);let N=e=>{let{task:t}=e,{handleUpdateTask:a,isSuccessUpdateMutation:r}=function(){var e;let t=(0,y.jE)(),{formatMessage:a}=(0,g.A)(),{data:r}=v.y.useSession(),s=(0,k.n)({mutationFn:async e=>{var t;if(!(null==r||null==(t=r.user)?void 0:t.id))throw Error("Not authenticated");return await w.n.updateTask(e)},onMutate:async e=>{var a;if(!(null==r||null==(a=r.user)?void 0:a.id)||!e.id)return{prevData:[]};let s=w.n.queryKey.byUserAndStatus(r.user.id,!0),n=w.n.queryKey.byUserAndStatus(r.user.id,!1),i=w.n.queryKey.single(r.user.id,e.id);await t.cancelQueries({queryKey:s}),await t.cancelQueries({queryKey:n}),await t.cancelQueries({queryKey:i});let d=t.getQueryData(s)||[],l=t.getQueryData(n)||[],o=t.getQueryData(i),c=t=>t.map(t=>t.id===e.id?{...t,...e}:t);return t.setQueryData(s,c(d)),t.setQueryData(n,c(l)),o&&t.setQueryData(i,{...o,...e}),{prevCompletedData:d,prevOpenData:l,prevSingleData:o,completedQueryKey:s,openQueryKey:n,singleTaskQueryKey:i}},onSuccess:e=>{j.oR.success("".concat(a({id:"Toast.taskUpdated",defaultMessage:"Aufgabe aktualisiert"}),": „").concat(e.title,'"'))},onError:(e,s,n)=>{var i;n&&(null==r||null==(i=r.user)?void 0:i.id)&&(n.prevCompletedData&&t.setQueryData(n.completedQueryKey,n.prevCompletedData),n.prevOpenData&&t.setQueryData(n.openQueryKey,n.prevOpenData),n.prevSingleData&&t.setQueryData(n.singleTaskQueryKey,n.prevSingleData),j.oR.error(a({id:"Toast.taskUpdateError",defaultMessage:"Fehler beim Aktualisieren der Aufgabe"})))},onSettled:async()=>{var e;(null==r||null==(e=r.user)?void 0:e.id)&&await t.invalidateQueries({queryKey:w.n.queryKey.byUser(r.user.id)})}});return{handleUpdateTask:e=>{var t;if(!(null==r||null==(t=r.user)?void 0:t.id))return void j.oR.error(a({id:"Toast.notLoggedIn",defaultMessage:"Bitte loggen Sie sich ein"}));s.mutate(e)},isPendingUpdateMutation:s.isPending,isSuccessUpdateMutation:s.isSuccess,isEnabled:!!(null==r||null==(e=r.user)?void 0:e.id)}}(),{handleCreateTask:s,isSuccessCreateMutation:n}=function(){var e;let t=(0,y.jE)(),{formatMessage:a}=(0,g.A)(),{data:r}=v.y.useSession(),s=(0,k.n)({mutationFn:w.n.createTask,onSuccess:e=>{var s;(null==r||null==(s=r.user)?void 0:s.id)&&(t.invalidateQueries({queryKey:w.n.queryKey.byUser(r.user.id)}),j.oR.success("".concat(a({id:"Toast.taskCreated",defaultMessage:"Aufgabe erstellt"}),": „").concat(e.title,'"')))},onError:()=>{j.oR.error(a({id:"Toast.taskCreateError",defaultMessage:"Fehler beim Erstellen der Aufgabe"}))}});return{handleCreateTask:e=>{var t;if(!(null==r||null==(t=r.user)?void 0:t.id))return void j.oR.error(a({id:"Toast.notLoggedIn",defaultMessage:"Bitte loggen Sie sich ein"}));s.mutate(e)},isPendingCreateMutation:s.isPending,isSuccessCreateMutation:s.isSuccess,isEnabled:!!(null==r||null==(e=r.user)?void 0:e.id)}}(),i=(0,b.useRouter)(),d=(0,b.useParams)(),{control:l,handleSubmit:o,formState:{errors:u,isSubmitting:m}}=(0,h.mN)({defaultValues:{title:(null==t?void 0:t.title)||"",description:(null==t?void 0:t.description)||"",tags:(null==t?void 0:t.tags)||[],dueDate:(null==t?void 0:t.dueDate)||void 0,priority:(null==t?void 0:t.priority)||0}});(0,c.useEffect)(()=>{if(r){let e=d.locale||"de";i.push("/".concat(e))}},[r,i,d]),(0,c.useEffect)(()=>{if(n){let e=d.locale||"de";i.push("/".concat(e))}},[n,i,d]);let p=Object.values(u).map(e=>{var t;return null!=(t=null==e?void 0:e.message)?t:""});return{control:l,handleSubmit:o,handleCancel:()=>{let e=d.locale||"de";i.push("/".concat(e))},isSubmitting:m,errors:u,onSubmit:e=>{t?a({id:t.id,title:e.title,description:e.description,tags:e.tags,dueDate:e.dueDate,priority:e.priority}):s({title:e.title,description:e.description,tags:e.tags,dueDate:e.dueDate,priority:e.priority})},errorMessages:p}};var T=a(7328),D=a(6474),M=a(4636),F=a(5933),_=a(2355),S=a(3052),C=a(713),A=a(8406);function z(){let e=(0,F._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return z=function(){return e},e}function E(){let e=(0,F._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return E=function(){return e},e}function q(e){let{className:t,classNames:a,showOutsideDays:n=!0,captionLayout:d="label",buttonVariant:l="ghost",formatters:o,components:c,...u}=e,m=(0,C.a)();return(0,r.jsx)(A.h,{showOutsideDays:n,className:(0,i.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(z()),String.raw(E()),t),captionLayout:d,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...o},classNames:{root:(0,i.cn)("w-fit",m.root),months:(0,i.cn)("flex gap-4 flex-col md:flex-row relative",m.months),month:(0,i.cn)("flex flex-col w-full gap-4",m.month),nav:(0,i.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",m.nav),button_previous:(0,i.cn)((0,s.r)({variant:l}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",m.button_previous),button_next:(0,i.cn)((0,s.r)({variant:l}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",m.button_next),month_caption:(0,i.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",m.month_caption),dropdowns:(0,i.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",m.dropdowns),dropdown_root:(0,i.cn)("relative border border-input shadow-xs focus-within:ring-2 focus-within:ring-accent focus-within:ring-offset-2 focus-within:ring-offset-background rounded-md",m.dropdown_root),dropdown:(0,i.cn)("absolute inset-0 opacity-0",m.dropdown),caption_label:(0,i.cn)("select-none font-medium","label"===d?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",m.caption_label),table:"w-full border-collapse",weekdays:(0,i.cn)("flex",m.weekdays),weekday:(0,i.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",m.weekday),week:(0,i.cn)("flex w-full mt-2",m.week),week_number_header:(0,i.cn)("select-none w-(--cell-size)",m.week_number_header),week_number:(0,i.cn)("text-[0.8rem] select-none text-muted-foreground",m.week_number),day:(0,i.cn)("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",m.day),range_start:(0,i.cn)("rounded-l-md bg-accent",m.range_start),range_middle:(0,i.cn)("rounded-none",m.range_middle),range_end:(0,i.cn)("rounded-r-md bg-accent",m.range_end),today:(0,i.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",m.today),outside:(0,i.cn)("text-muted-foreground aria-selected:text-muted-foreground",m.outside),disabled:(0,i.cn)("text-muted-foreground opacity-50",m.disabled),hidden:(0,i.cn)("invisible",m.hidden),...a},components:{Root:e=>{let{className:t,rootRef:a,...s}=e;return(0,r.jsx)("div",{"data-slot":"calendar",ref:a,className:(0,i.cn)(t),...s})},Chevron:e=>{let{className:t,orientation:a,...s}=e;return"left"===a?(0,r.jsx)(_.A,{className:(0,i.cn)("size-4",t),...s}):"right"===a?(0,r.jsx)(S.A,{className:(0,i.cn)("size-4",t),...s}):(0,r.jsx)(D.A,{className:(0,i.cn)("size-4",t),...s})},DayButton:L,WeekNumber:e=>{let{children:t,...a}=e;return(0,r.jsx)("td",{...a,children:(0,r.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:t})})},...c},...u})}function L(e){let{className:t,day:a,modifiers:n,...d}=e,l=(0,C.a)(),o=c.useRef(null);return c.useEffect(()=>{var e;n.focused&&(null==(e=o.current)||e.focus())},[n.focused]),(0,r.jsx)(s.$,{ref:o,variant:"ghost",size:"icon","data-day":a.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:(0,i.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",l.day,t),...d})}var Q=a(5630),K=a(5196);function U(e){let{className:t,...a}=e;return(0,r.jsx)(Q.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,r.jsx)(Q.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,r.jsx)(K.A,{className:"size-3.5"})})})}function R(e){let{value:t,onChange:a}=e,[n,i]=(0,c.useState)(!1),[l,o]=(0,c.useState)(t?new Date(t):void 0),[u,m]=(0,c.useState)(t?new Date(t).toTimeString().split(" ")[0].substring(0,5):void 0),[p,f]=(0,c.useState)(!!t),{formatMessage:x}=(0,g.A)();return(0,c.useEffect)(()=>{if(p){if(l){let[e,t]=(null!=u?u:"00:00").split(":").map(Number),r=new Date(l);r.setHours(e,t,0),a(r)}}else a(null)},[l,u,p,a]),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(U,{id:"show-datetime",checked:p,onCheckedChange:e=>{if(f(e),e){if(!l){let e=new Date;o(e),m(e.toTimeString().split(" ")[0].substring(0,5))}}else a(null)}}),(0,r.jsx)("label",{htmlFor:"show-datetime",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:(0,r.jsx)(T.A,{id:"DateTimePicker.addDueDate",defaultMessage:"F\xe4lligkeitsdatum hinzuf\xfcgen?"})})]}),p&&(0,r.jsxs)("div",{className:"flex gap-x-4",children:[(0,r.jsx)("div",{className:"flex flex-col gap-3",children:(0,r.jsxs)(M.AM,{open:n,onOpenChange:i,children:[(0,r.jsx)(M.Wv,{asChild:!0,children:(0,r.jsxs)(s.$,{variant:"outline",id:"date-picker",className:"justify-between font-normal",children:[l?l.toLocaleDateString():x({id:"DateTimePicker.selectDate",defaultMessage:"Datum ausw\xe4hlen"}),(0,r.jsx)(D.A,{})]})}),(0,r.jsx)(M.hl,{className:"w-auto overflow-hidden p-0",align:"start",children:(0,r.jsx)(q,{mode:"single",selected:l,captionLayout:"dropdown",onSelect:e=>{o(e),e&&!u&&m("00:00"),i(!1)}})})]})}),(0,r.jsx)("div",{className:"flex flex-col gap-3",children:(0,r.jsx)(d.p,{type:"time",id:"time-picker",step:"60",value:u,onChange:e=>m(e.target.value),className:"bg-background appearance-none [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})})]})]})}var I=a(9409),P=a(5057),B=a(4229),O=a(4616);let Z=e=>{switch(e){case 0:return"text-green-600 dark:text-green-400";case 1:return"text-yellow-600 dark:text-yellow-400";case 2:return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}},W=e=>{let{className:t,task:a}=e,{control:d,handleSubmit:c,isSubmitting:u,errors:m,handleCancel:f,onSubmit:b,errorMessages:v}=N({task:a}),{formatMessage:y}=(0,g.A)();return(0,r.jsx)("div",{className:t,children:(0,r.jsxs)(n.Zp,{className:"border border-border bg-card shadow-sm",children:[(0,r.jsx)(n.aR,{className:"border-b border-border pb-6",children:(0,r.jsx)(n.ZB,{className:"text-2xl font-light tracking-tight flex items-center gap-3",children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.A,{className:"w-6 h-6 text-primary"}),(0,r.jsx)(T.A,{defaultMessage:"Aufgabe bearbeiten",id:"TaskForm.editTask"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.A,{className:"w-6 h-6 text-primary"}),(0,r.jsx)(T.A,{defaultMessage:"Aufgabe hinzuf\xfcgen",id:"TaskForm.addTask"})]})})}),(0,r.jsxs)("form",{onSubmit:c(b),children:[(0,r.jsxs)(n.Wu,{className:"flex flex-col gap-y-6 pt-6 px-6",children:[(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)(h.xI,{name:"priority",control:d,render:e=>{var t;let{field:a}=e;return(0,r.jsxs)("div",{className:"grid gap-3",children:[(0,r.jsx)(P.J,{htmlFor:"priority",className:"text-sm font-medium",children:y({id:"TaskForm.labels.priority",defaultMessage:"Priorit\xe4t"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(I.l6,{value:null==(t=a.value)?void 0:t.toString(),onValueChange:e=>a.onChange(parseInt(e)),children:[(0,r.jsx)(I.bq,{className:"flex-1",children:(0,r.jsx)(I.yv,{placeholder:y({id:"TaskForm.priority.placeholder",defaultMessage:"Priorit\xe4t ausw\xe4hlen"})})}),(0,r.jsxs)(I.gC,{children:[(0,r.jsx)(I.eb,{value:"0",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),y({id:"TaskForm.priority.low",defaultMessage:"Niedrig"})]})}),(0,r.jsx)(I.eb,{value:"1",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),y({id:"TaskForm.priority.medium",defaultMessage:"Mittel"})]})}),(0,r.jsx)(I.eb,{value:"2",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"}),y({id:"TaskForm.priority.high",defaultMessage:"Hoch"})]})})]})]}),void 0!==a.value&&(0,r.jsxs)("div",{className:(0,i.cn)("text-sm font-medium",Z(a.value)),children:[0===a.value&&"Niedrig",1===a.value&&"Mittel",2===a.value&&"Hoch"]})]})]})}})}),(0,r.jsx)(h.xI,{name:"title",control:d,rules:{required:y({id:"TaskForm.title.required",defaultMessage:"Titel ist erforderlich"}),minLength:{value:3,message:y({id:"TaskForm.title.minLength",defaultMessage:"Titel muss mindestens 3 Zeichen lang sein"})},validate:e=>""!==e.trim()||y({id:"TaskForm.title.notEmpty",defaultMessage:"Titel darf nicht leer sein"})},render:e=>{let{field:t}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l,{id:"title",label:y({id:"TaskForm.labels.title",defaultMessage:"Titel"}),className:m.title&&"border-red-500",value:t.value,onChange:t.onChange}),m.title&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:m.title.message})]})}}),(0,r.jsx)(h.xI,{name:"description",control:d,rules:{required:y({id:"TaskForm.description.required",defaultMessage:"Beschreibung ist erforderlich"}),minLength:{value:3,message:y({id:"TaskForm.description.minLength",defaultMessage:"Beschreibung muss mindestens 3 Zeichen lang sein"})},validate:e=>""!==e.trim()||y({id:"TaskForm.description.notEmpty",defaultMessage:"Beschreibung darf nicht leer sein"})},render:e=>{let{field:t}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o,{id:"description",label:y({id:"TaskForm.labels.description",defaultMessage:"Beschreibung"}),className:m.description&&"border-red-500 dark:border-red-500",value:t.value,onChange:t.onChange}),m.description&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:m.description.message})]})}}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(P.J,{className:"text-sm font-medium",children:y({id:"TaskForm.labels.dueDate",defaultMessage:"F\xe4lligkeitsdatum (optional)"})}),(0,r.jsx)(h.xI,{name:"dueDate",control:d,rules:{validate:e=>!e||e.getTime()>new Date().getTime()||y({id:"TaskForm.dueDate.invalid",defaultMessage:"F\xe4lligkeitsdatum muss in der Zukunft liegen"})},render:e=>{let{field:t}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(R,{value:t.value,onChange:t.onChange}),m.dueDate&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:m.dueDate.message})]})}})]}),(0,r.jsx)(h.xI,{name:"tags",control:d,rules:{validate:e=>!!e&&e.length>0||y({id:"TaskForm.tags.id",defaultMessage:"Bitte mindestens einen Tag hinzuf\xfcgen"})},render:e=>{let{field:t}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p,{tags:t.value,setTags:t.onChange,className:m.tags&&"border-red-500"}),m.tags&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:m.tags.message})]})}}),(0,r.jsx)(x,{errors:v})]}),(0,r.jsxs)(n.wL,{className:"pb-6 px-6 flex flex-col gap-4",children:[(0,r.jsx)(s.$,{className:"w-full py-3 text-base",type:"submit",disabled:u,children:u?"Wird gespeichert...":a?y({id:"TaskForm.submit.editTask",defaultMessage:"Aufgabe bearbeiten"}):y({id:"TaskForm.submit.addTask",defaultMessage:"Aufgabe hinzuf\xfcgen"})}),(0,r.jsx)(s.$,{type:"button",variant:"outline",className:"w-full py-3 text-base",onClick:f,disabled:u,children:y({id:"TaskForm.cancel",defaultMessage:"Abbrechen"})})]})]})]})})}},7297:(e,t,a)=>{a.d(t,{y:()=>r});let r=(0,a(9659).MB)({baseURL:"http://localhost:3000"})}}]);