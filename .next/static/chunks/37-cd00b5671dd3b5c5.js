"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{6813:(t,e,r)=>{r.d(e,{A:()=>K});var i=r(9249),a=r(98),n=r(2115),s=r(1609),o=r(9623),l=r(2586),u=r(2961);function c(t,e){return Object.keys(t).reduce(function(r,a){return r[a]=(0,i.Cl)({timeZone:e},t[a]),r},{})}function h(t,e){return Object.keys((0,i.Cl)((0,i.Cl)({},t),e)).reduce(function(r,a){return r[a]=(0,i.Cl)((0,i.Cl)({},t[a]||{}),e[a]||{}),r},{})}function f(t,e){if(!e)return t;var r=l.S.formats;return(0,i.Cl)((0,i.Cl)((0,i.Cl)({},r),t),{date:h(c(r.date,e),c(t.date||{},e)),time:h(c(r.time,e),c(t.time||{},e))})}var d=function(t,e,r,n,s){var l=t.locale,c=t.formats,h=t.messages,d=t.defaultLocale,m=t.defaultFormats,p=t.fallbackOnEmptyString,y=t.onError,g=t.timeZone,v=t.defaultRichTextElements;void 0===r&&(r={id:""});var b=r.id,C=r.defaultMessage;(0,a.V1)(!!b,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var O=String(b),w=h&&Object.prototype.hasOwnProperty.call(h,O)&&h[O];if(Array.isArray(w)&&1===w.length&&w[0].type===o.ZE.literal)return w[0].value;if(!n&&w&&"string"==typeof w&&!v)return w.replace(/'\{(.*?)\}'/gi,"{$1}");if(n=(0,i.Cl)((0,i.Cl)({},v),n||{}),c=f(c,g),m=f(m,g),!w){if(!1===p&&""===w)return w;if((!C||l&&l.toLowerCase()!==d.toLowerCase())&&y(new u.sb(r,l)),C)try{var F=e.getMessageFormat(C,d,m,s);return F.format(n)}catch(t){return y(new u.Ho('Error formatting default message for: "'.concat(O,'", rendering default message verbatim'),l,r,t)),"string"==typeof C?C:O}return O}try{var F=e.getMessageFormat(w,l,c,(0,i.Cl)({formatters:e},s||{}));return F.format(n)}catch(t){y(new u.Ho('Error formatting message: "'.concat(O,'", using ').concat(C?"default message":"id"," as fallback."),l,r,t))}if(C)try{var F=e.getMessageFormat(C,d,m,s);return F.format(n)}catch(t){y(new u.Ho('Error formatting the default message for: "'.concat(O,'", rendering message verbatim'),l,r,t))}return"string"==typeof w?w:"string"==typeof C?C:O},m=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function p(t,e,r,n){var s=t.locale,o=t.formats,l=t.onError,u=t.timeZone;void 0===n&&(n={});var c=n.format,h=(0,i.Cl)((0,i.Cl)({},u&&{timeZone:u}),c&&(0,a.F3)(o,e,c,l)),f=(0,a.J9)(n,m,h);return"time"!==e||f.hour||f.minute||f.second||f.timeStyle||f.dateStyle||(f=(0,i.Cl)((0,i.Cl)({},f),{hour:"numeric",minute:"numeric"})),r(s,f)}function y(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],n=r[1],s="string"==typeof a?new Date(a||0):a;try{return p(t,"date",e,void 0===n?{}:n).format(s)}catch(e){t.onError(new u.pg("Error formatting date.",t.locale,e))}return String(s)}function g(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],n=r[1],s="string"==typeof a?new Date(a||0):a;try{return p(t,"time",e,void 0===n?{}:n).format(s)}catch(e){t.onError(new u.pg("Error formatting time.",t.locale,e))}return String(s)}function v(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],n=r[1],s=r[2],o="string"==typeof a?new Date(a||0):a,l="string"==typeof n?new Date(n||0):n;try{return p(t,"dateTimeRange",e,void 0===s?{}:s).formatRange(o,l)}catch(e){t.onError(new u.pg("Error formatting date time range.",t.locale,e))}return String(o)}function b(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],n=r[1],s="string"==typeof a?new Date(a||0):a;try{return p(t,"date",e,void 0===n?{}:n).formatToParts(s)}catch(e){t.onError(new u.pg("Error formatting date.",t.locale,e))}return[]}function C(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],n=r[1],s="string"==typeof a?new Date(a||0):a;try{return p(t,"time",e,void 0===n?{}:n).formatToParts(s)}catch(e){t.onError(new u.pg("Error formatting time.",t.locale,e))}return[]}var O=r(7293),w=["style","type","fallback","languageDisplay"];function F(t,e,r,i){var n=t.locale,s=t.onError;Intl.DisplayNames||s(new O.IF('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',O.O4.MISSING_INTL_API));var o=(0,a.J9)(i,w);try{return e(n,o).of(r)}catch(t){s(new u.pg("Error formatting display name.",n,t))}}var S=["type","style"],D=Date.now();function E(t,e,r,i){void 0===i&&(i={});var a=q(t,e,r,i).reduce(function(t,e){var r=e.value;return"string"!=typeof r?t.push(r):"string"==typeof t[t.length-1]?t[t.length-1]+=r:t.push(r),t},[]);return 1===a.length?a[0]:0===a.length?"":a}function q(t,e,r,n){var s=t.locale,o=t.onError;void 0===n&&(n={}),Intl.ListFormat||o(new O.IF('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',O.O4.MISSING_INTL_API));var l=(0,a.J9)(n,S);try{var c={},h=r.map(function(t,e){if("object"==typeof t){var r="".concat(D,"_").concat(e,"_").concat(D);return c[r]=t,r}return String(t)});return e(s,l).formatToParts(h).map(function(t){return"literal"===t.type?t:(0,i.Cl)((0,i.Cl)({},t),{value:c[t.value]||t.value})})}catch(t){o(new u.pg("Error formatting list.",s,t))}return r}var P=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function T(t,e,r){var i=t.locale,n=t.formats,s=t.onError;void 0===r&&(r={});var o=r.format,l=o&&(0,a.F3)(n,"number",o,s)||{};return e(i,(0,a.J9)(r,P,l))}function I(t,e,r,i){void 0===i&&(i={});try{return T(t,e,i).format(r)}catch(e){t.onError(new u.pg("Error formatting number.",t.locale,e))}return String(r)}function Q(t,e,r,i){void 0===i&&(i={});try{return T(t,e,i).formatToParts(r)}catch(e){t.onError(new u.pg("Error formatting number.",t.locale,e))}return[]}var A=["type"];function M(t,e,r,i){var n=t.locale,s=t.onError;void 0===i&&(i={}),Intl.PluralRules||s(new O.IF('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',O.O4.MISSING_INTL_API));var o=(0,a.J9)(i,A);try{return e(n,o).select(r)}catch(t){s(new u.pg("Error formatting plural.",n,t))}return"other"}var j=["numeric","style"];function R(t,e,r,i,n){void 0===n&&(n={}),i||(i="second"),Intl.RelativeTimeFormat||t.onError(new O.IF('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',O.O4.MISSING_INTL_API));try{var s,o,l,c,h,f;return(s=n,o=t.locale,l=t.formats,c=t.onError,void 0===s&&(s={}),f=!!(h=s.format)&&(0,a.F3)(l,"relative",h,c)||{},e(o,(0,a.J9)(s,j,f))).format(r,i)}catch(e){t.onError(new u.pg("Error formatting relative time.",t.locale,e))}return String(r)}var k=r(1102);function N(t){return t?Object.keys(t).reduce(function(e,r){var i=t[r];return e[r]=(0,k.RK)(i)?(0,s.yU)(i):i,e},{}):t}var G=function(t,e,r,a){for(var n=[],o=4;o<arguments.length;o++)n[o-4]=arguments[o];var l=N(a),u=d.apply(void 0,(0,i.fX)([t,e,r,l],n,!1));return Array.isArray(u)?(0,s.SP)(u):u},x=function(t,e){var r,n,o,l,c,h,f,m=t.defaultRichTextElements,p=(0,i.Tt)(t,["defaultRichTextElements"]),O=N(m),w=(r=(0,i.Cl)((0,i.Cl)((0,i.Cl)({},s.JF),p),{defaultRichTextElements:O}),n=(0,a.GT)(e),l=(o=(0,i.Cl)((0,i.Cl)({},a.JF),r)).locale,c=o.defaultLocale,h=o.onError,l?!Intl.NumberFormat.supportedLocalesOf(l).length&&h?h(new u.hr('Missing locale data for locale: "'.concat(l,'" in Intl.NumberFormat. Using default locale: "').concat(c,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(l).length&&h&&h(new u.hr('Missing locale data for locale: "'.concat(l,'" in Intl.DateTimeFormat. Using default locale: "').concat(c,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(h&&h(new u.uo('"locale" was not configured, using "'.concat(c,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),o.locale=o.defaultLocale||"en"),o.onWarn&&o.defaultRichTextElements&&"string"==typeof(f=o.messages||{})[Object.keys(f)[0]]&&o.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.github.io/docs/getting-started/message-distribution'),(0,i.Cl)((0,i.Cl)({},o),{formatters:n,formatNumber:I.bind(null,o,n.getNumberFormat),formatNumberToParts:Q.bind(null,o,n.getNumberFormat),formatRelativeTime:R.bind(null,o,n.getRelativeTimeFormat),formatDate:y.bind(null,o,n.getDateTimeFormat),formatDateToParts:b.bind(null,o,n.getDateTimeFormat),formatTime:g.bind(null,o,n.getDateTimeFormat),formatDateTimeRange:v.bind(null,o,n.getDateTimeFormat),formatTimeToParts:C.bind(null,o,n.getDateTimeFormat),formatPlural:M.bind(null,o,n.getPluralRules),formatMessage:d.bind(null,o,n),$t:d.bind(null,o,n),formatList:E.bind(null,o,n.getListFormat),formatListToParts:q.bind(null,o,n.getListFormat),formatDisplayName:F.bind(null,o,n.getDisplayNames)})),S={locale:w.locale,timeZone:w.timeZone,fallbackOnEmptyString:w.fallbackOnEmptyString,formats:w.formats,defaultLocale:w.defaultLocale,defaultFormats:w.defaultFormats,messages:w.messages,onError:w.onError,defaultRichTextElements:O};return(0,i.Cl)((0,i.Cl)({},w),{formatMessage:G.bind(null,S,w.formatters),$t:G.bind(null,S,w.formatters)})},L=r(7447);function U(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}let K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache=(0,a.MT)(),e.state={cache:e.cache,intl:x(U(e.props),e.cache),prevConfig:U(e.props)},e}return(0,i.C6)(e,t),e.getDerivedStateFromProps=function(t,e){var r=e.prevConfig,i=e.cache,a=U(t);return(0,s.bN)(r,a)?null:{intl:x(a,i),prevConfig:a}},e.prototype.render=function(){return(0,s.HM)(this.state.intl),n.createElement(L.Kq,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=s.JF,e}(n.PureComponent)},7017:(t,e,r)=>{r.d(e,{E:()=>p});var i=r(2020),a=r(9853),n=r(7165),s=r(5910),o=class extends s.Q{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){let n=e.queryKey,s=e.queryHash??(0,i.F$)(n,e),o=this.get(s);return o||(o=new a.X({client:t,queryKey:n,queryHash:s,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){n.jG.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,i.MK)(e,t))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(e=>(0,i.MK)(t,e)):e}notify(t){n.jG.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){n.jG.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){n.jG.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},l=r(4560),u=class extends s.Q{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#r=new Map,this.#i=0}#e;#r;#i;build(t,e,r){let i=new l.s({mutationCache:this,mutationId:++this.#i,options:t.defaultMutationOptions(e),state:r});return this.add(i),i}add(t){this.#e.add(t);let e=c(t);if("string"==typeof e){let r=this.#r.get(e);r?r.push(t):this.#r.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){let e=c(t);if("string"==typeof e){let r=this.#r.get(e);if(r)if(r.length>1){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}else r[0]===t&&this.#r.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=c(t);if("string"!=typeof e)return!0;{let r=this.#r.get(e),i=r?.find(t=>"pending"===t.state.status);return!i||i===t}}runNext(t){let e=c(t);if("string"!=typeof e)return Promise.resolve();{let r=this.#r.get(e)?.find(e=>e!==t&&e.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){n.jG.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#r.clear()})}getAll(){return Array.from(this.#e)}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,i.nJ)(e,t))}findAll(t={}){return this.getAll().filter(e=>(0,i.nJ)(t,e))}notify(t){n.jG.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(t=>t.state.isPaused);return n.jG.batch(()=>Promise.all(t.map(t=>t.continue().catch(i.lQ))))}};function c(t){return t.options.scope?.id}var h=r(920),f=r(1239);function d(t){return{onFetch:(e,r)=>{let a=e.options,n=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[],l={pages:[],pageParams:[]},u=0,c=async()=>{let r=!1,c=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?r=!0:e.signal.addEventListener("abort",()=>{r=!0}),e.signal)})},h=(0,i.ZM)(e.options,e.fetchOptions),f=async(t,a,n)=>{if(r)return Promise.reject();if(null==a&&t.pages.length)return Promise.resolve(t);let s={client:e.client,queryKey:e.queryKey,pageParam:a,direction:n?"backward":"forward",meta:e.options.meta};c(s);let o=await h(s),{maxPages:l}=e.options,u=n?i.ZZ:i.y9;return{pages:u(t.pages,o,l),pageParams:u(t.pageParams,a,l)}};if(n&&s.length){let t="backward"===n,e={pages:s,pageParams:o},r=(t?function(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}:m)(a,e);l=await f(e,r,t)}else{let e=t??s.length;do{let t=0===u?o[0]??a.initialPageParam:m(a,l);if(u>0&&null==t)break;l=await f(l,t),u++}while(u<e)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=c}}}function m(t,{pages:e,pageParams:r}){let i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,r[i],r):void 0}var p=class{#a;#n;#s;#o;#l;#u;#c;#h;constructor(t={}){this.#a=t.queryCache||new o,this.#n=t.mutationCache||new u,this.#s=t.defaultOptions||{},this.#o=new Map,this.#l=new Map,this.#u=0}mount(){this.#u++,1===this.#u&&(this.#c=h.m.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#a.onFocus())}),this.#h=f.t.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#a.onOnline())}))}unmount(){this.#u--,0===this.#u&&(this.#c?.(),this.#c=void 0,this.#h?.(),this.#h=void 0)}isFetching(t){return this.#a.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#n.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#a.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#a.build(this,e),a=r.state.data;return void 0===a?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime((0,i.d2)(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return this.#a.findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,r){let a=this.defaultQueryOptions({queryKey:t}),n=this.#a.get(a.queryHash),s=n?.state.data,o=(0,i.Zw)(e,s);if(void 0!==o)return this.#a.build(this,a).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return n.jG.batch(()=>this.#a.findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#a.get(e.queryHash)?.state}removeQueries(t){let e=this.#a;n.jG.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){let r=this.#a;return n.jG.batch(()=>(r.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e};return Promise.all(n.jG.batch(()=>this.#a.findAll(t).map(t=>t.cancel(r)))).then(i.lQ).catch(i.lQ)}invalidateQueries(t,e={}){return n.jG.batch(()=>(this.#a.findAll(t).forEach(t=>{t.invalidate()}),t?.refetchType==="none")?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0};return Promise.all(n.jG.batch(()=>this.#a.findAll(t).filter(t=>!t.isDisabled()).map(t=>{let e=t.fetch(void 0,r);return r.throwOnError||(e=e.catch(i.lQ)),"paused"===t.state.fetchStatus?Promise.resolve():e}))).then(i.lQ)}fetchQuery(t){let e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);let r=this.#a.build(this,e);return r.isStaleByTime((0,i.d2)(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(i.lQ).catch(i.lQ)}fetchInfiniteQuery(t){return t.behavior=d(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(i.lQ).catch(i.lQ)}ensureInfiniteQueryData(t){return t.behavior=d(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return f.t.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#a}getMutationCache(){return this.#n}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,e){this.#o.set((0,i.EN)(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#o.values()],r={};return e.forEach(e=>{(0,i.Cp)(t,e.queryKey)&&Object.assign(r,e.defaultOptions)}),r}setMutationDefaults(t,e){this.#l.set((0,i.EN)(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#l.values()],r={};return e.forEach(e=>{(0,i.Cp)(t,e.mutationKey)&&Object.assign(r,e.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=(0,i.F$)(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===i.hT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#a.clear(),this.#n.clear()}}},9853:(t,e,r)=>{r.d(e,{X:()=>o,k:()=>l});var i=r(2020),a=r(7165),n=r(6784),s=r(7948),o=class extends s.k{#f;#d;#m;#p;#y;#s;#g;constructor(t){super(),this.#g=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#p=t.client,this.#m=this.#p.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#f=function(t){let e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,i=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=t.state??this.#f,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#y?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#m.remove(this)}setData(t,e){let r=(0,i.pl)(this.state.data,t,this.options);return this.#v({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#v({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#y?.promise;return this.#y?.cancel(t),e?e.then(i.lQ).catch(i.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#f)}isActive(){return this.observers.some(t=>!1!==(0,i.Eh)(t.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===i.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!(0,i.j3)(this.state.dataUpdatedAt,t)}onFocus(){let t=this.observers.find(t=>t.shouldFetchOnWindowFocus());t?.refetch({cancelRefetch:!1}),this.#y?.continue()}onOnline(){let t=this.observers.find(t=>t.shouldFetchOnReconnect());t?.refetch({cancelRefetch:!1}),this.#y?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#m.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#y&&(this.#g?this.#y.cancel({revert:!0}):this.#y.cancelRetry()),this.scheduleGc()),this.#m.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#v({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#y)return this.#y.continueRetry(),this.#y.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}let r=new AbortController,a=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#g=!0,r.signal)})},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#p,state:this.state,fetchFn:()=>{let t=(0,i.ZM)(this.options,e),r={client:this.#p,queryKey:this.queryKey,meta:this.meta};return(a(r),this.#g=!1,this.options.persister)?this.options.persister(t,r,this):t(r)}};a(s),this.options.behavior?.onFetch(s,this),this.#d=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#v({type:"fetch",meta:s.fetchOptions?.meta});let o=t=>{(0,n.wm)(t)&&t.silent||this.#v({type:"error",error:t}),(0,n.wm)(t)||(this.#m.config.onError?.(t,this),this.#m.config.onSettled?.(this.state.data,t,this)),this.scheduleGc()};return this.#y=(0,n.II)({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:t=>{if(void 0===t)return void o(Error(`${this.queryHash} data is undefined`));try{this.setData(t)}catch(t){o(t);return}this.#m.config.onSuccess?.(t,this),this.#m.config.onSettled?.(t,this.state.error,this),this.scheduleGc()},onError:o,onFail:(t,e)=>{this.#v({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#v({type:"pause"})},onContinue:()=>{this.#v({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#y.start()}#v(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...l(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=t.error;if((0,n.wm)(r)&&r.revert&&this.#d)return{...this.#d,fetchStatus:"idle"};return{...e,error:r,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),a.jG.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#m.notify({query:this,type:"updated",action:t})})}};function l(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,n.v_)(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}}}]);