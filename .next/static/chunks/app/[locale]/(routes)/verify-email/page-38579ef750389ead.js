(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[560],{646:(e,s,i)=>{"use strict";i.d(s,{A:()=>a});let a=(0,i(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1154:(e,s,i)=>{"use strict";i.d(s,{A:()=>a});let a=(0,i(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1264:(e,s,i)=>{"use strict";i.d(s,{A:()=>a});let a=(0,i(9946).A)("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5541:(e,s,i)=>{Promise.resolve().then(i.bind(i,8890))},5977:(e,s,i)=>{"use strict";i.d(s,{M:()=>r});var a=i(5155),l=i(9434);let r=e=>{let{className:s,children:i,size:r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(s),children:(0,a.jsx)("div",{className:"container max-w-".concat(r," mx-auto h-full"),children:i})})}},7297:(e,s,i)=>{"use strict";i.d(s,{y:()=>a});let a=(0,i(9659).MB)({baseURL:"http://localhost:3000"})},8890:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>E});var a=i(5155),l=i(5977),r=i(2580),t=i(285),d=i(6695),n=i(2523),c=i(5057),m=i(7297),u=i(1264),x=i(646),f=i(1154),o=i(6874),h=i.n(o),g=i(5695),j=i(2115),M=i(2177),b=i(7011),y=i(7328);function E(){let{locale:e}=(0,g.useParams)(),s=(0,b.A)(),i=(0,g.useSearchParams)(),[o,E]=(0,j.useState)(!1),[p,N]=(0,j.useState)(""),[k,v]=(0,j.useState)(!1),[A,V]=(0,j.useState)(!1),{handleSubmit:w,control:z,formState:{errors:S}}=(0,M.mN)({mode:"onSubmit",shouldUseNativeValidation:!1}),B=(null==i?void 0:i.get("justRegistered"))==="1",L=async i=>{E(!0),N("");try{await m.y.sendVerificationEmail({email:i.email,callbackURL:"/".concat(e,"/login?emailVerified=1")}),N(s.formatMessage({id:"VerifyEmail.success",defaultMessage:"Verifizierungs-E-Mail wurde erfolgreich gesendet!"})),v(!0)}catch(e){N(e instanceof Error?e.message:s.formatMessage({id:"VerifyEmail.error",defaultMessage:"Fehler beim Senden der E-Mail. Bitte versuche es erneut."})),v(!1)}finally{E(!1)}};return(0,a.jsxs)("div",{className:"bg-background flex flex-col",children:[(0,a.jsx)(r.Navigation,{}),(0,a.jsx)(l.M,{className:"h-[calc(100vh-64px)]",size:"xl",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)(d.Zp,{className:"w-full max-w-md mb-20",children:[(0,a.jsxs)(d.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900",children:(0,a.jsx)(u.A,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsx)(d.ZB,{children:(0,a.jsx)(y.A,{id:"VerifyEmail.title",defaultMessage:"E-Mail verifizieren"})}),(0,a.jsx)(d.BT,{children:B?(0,a.jsx)(y.A,{id:"VerifyEmail.justRegisteredDescription",defaultMessage:"Wir haben dir eine E-Mail geschickt. Bitte best\xe4tige deine Adresse \xfcber den Link in der E-Mail, um deinen Account zu aktivieren."}):(0,a.jsx)(y.A,{id:"VerifyEmail.description",defaultMessage:"Gib deine E-Mail-Adresse ein, um eine neue Verifizierungs-E-Mail zu erhalten."})})]}),(0,a.jsxs)(d.Wu,{children:[B&&!A?(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900",children:(0,a.jsx)(x.A,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:(0,a.jsx)(y.A,{id:"VerifyEmail.successTitle",defaultMessage:"E-Mail gesendet!"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,a.jsx)(y.A,{id:"VerifyEmail.successDescription",defaultMessage:"Pr\xfcfe dein E-Mail-Postfach und klicke auf den Verifizierungslink."})})]}),(0,a.jsx)(t.$,{variant:"outline",className:"w-full cursor-pointer",onClick:()=>V(!0),children:(0,a.jsx)(y.A,{id:"VerifyEmail.resendButton",defaultMessage:"Verifizierungs-E-Mail erneut senden"})})]}):(0,a.jsxs)("form",{onSubmit:w(L),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(c.J,{htmlFor:"email",children:(0,a.jsx)(y.A,{id:"VerifyEmail.email",defaultMessage:"E-Mail-Adresse"})}),(0,a.jsx)(M.xI,{name:"email",control:z,defaultValue:"",rules:{required:s.formatMessage({id:"VerifyEmail.validation.emailRequired",defaultMessage:"E-Mail-Adresse ist erforderlich"}),pattern:{value:/\S+@\S+\.\S+/,message:s.formatMessage({id:"VerifyEmail.validation.emailInvalid",defaultMessage:"Ung\xfcltige E-Mail-Adresse"})}},render:e=>{let{field:s}=e;return(0,a.jsx)(n.p,{id:"email",type:"email",placeholder:"m@example.com",className:S.email?"border-red-500":"",...s})}}),S.email&&(0,a.jsx)("span",{className:"text-red-500 text-sm",children:S.email.message})]}),(0,a.jsx)(t.$,{type:"submit",disabled:o,className:"w-full cursor-pointer",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{size:16,className:"animate-spin mr-2"}),(0,a.jsx)(y.A,{id:"VerifyEmail.sending",defaultMessage:"Wird gesendet..."})]}):(0,a.jsx)(y.A,{id:"VerifyEmail.sendButton",defaultMessage:"Verifizierungs-E-Mail senden"})})]}),p&&!k&&(0,a.jsx)("div",{className:"mt-4 p-3 rounded-md bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:p})}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(h(),{href:"/".concat(e,"/login"),className:"text-sm text-blue-600 hover:text-blue-500 underline",children:(0,a.jsx)(y.A,{id:"VerifyEmail.backToLogin",defaultMessage:"Zur\xfcck zur Anmeldung"})})})]})]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[486,274,483,659,580,203,952,441,684,358],()=>s(5541)),_N_E=e.O()}]);