(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{1154:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});let i=(0,a(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4416:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});let i=(0,a(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5977:(e,s,a)=>{"use strict";a.d(s,{M:()=>r});var i=a(5155),l=a(9434);let r=e=>{let{className:s,children:a,size:r}=e;return(0,i.jsx)("div",{className:(0,l.cn)(s),children:(0,i.jsx)("div",{className:"container max-w-".concat(r," mx-auto h-full"),children:a})})}},6387:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>M});var i=a(5155),l=a(5977),r=a(2580),t=a(285),d=a(6695),n=a(2523),m=a(5057),o=a(6874),c=a.n(o),g=a(6766),u=a(5695),x=a(7011),f=a(7328),h=a(2177),p=a(7297),j=a(2115),N=a(4416),w=a(1154);async function v(e){return new Promise((s,a)=>{let i=new FileReader;i.onloadend=()=>s(i.result),i.onerror=a,i.readAsDataURL(e)})}function M(){let{locale:e}=(0,u.useParams)(),s=(0,x.A)(),[a,o]=(0,j.useState)(null),[M,R]=(0,j.useState)(!1),b=(0,u.useRouter)(),[A,y]=(0,j.useState)(null),[P,L]=(0,j.useState)(null),{handleSubmit:k,control:q,watch:F,reset:S,formState:{errors:C}}=(0,h.mN)({mode:"onSubmit"}),I=async s=>{let{error:a}=await p.y.signUp.email({email:s.email,password:s.password,name:"".concat(s.firstName," ").concat(s.lastName),image:A?await v(A):"",callbackURL:"/".concat(e,"/login?emailVerified=1")},{onRequest:()=>{R(!0)},onResponse:()=>{R(!1)},onSuccess:()=>{R(!1),b.push("/".concat(e,"/verify-email?justRegistered=1"))}});S(),a?o(a.message||"Registration failed"):o(null)};return(0,i.jsxs)("div",{className:"bg-background flex flex-col",children:[(0,i.jsx)(r.Navigation,{}),(0,i.jsx)(l.M,{className:"h-[calc(100vh-64px)]",size:"xl",children:(0,i.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,i.jsxs)(d.Zp,{className:"w-full max-w-md",children:[(0,i.jsxs)(d.aR,{children:[(0,i.jsx)(d.ZB,{children:(0,i.jsx)(f.A,{id:"Register.title",defaultMessage:"Konto erstellen"})}),(0,i.jsx)(d.BT,{children:(0,i.jsx)(f.A,{id:"Register.description",defaultMessage:"Gib deine Daten unten ein, um dein Konto zu erstellen"})}),(0,i.jsx)(d.X9,{children:(0,i.jsx)(c(),{href:"/".concat(e,"/login"),children:(0,i.jsx)(t.$,{variant:"link",className:"cursor-pointer",children:(0,i.jsx)(f.A,{id:"Register.signInLink",defaultMessage:"Anmelden"})})})})]}),(0,i.jsx)(d.Wu,{children:(0,i.jsxs)("form",{onSubmit:k(I),children:[(0,i.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(m.J,{htmlFor:"email",children:(0,i.jsx)(f.A,{id:"Register.email",defaultMessage:"E-Mail"})}),(0,i.jsx)(h.xI,{name:"email",control:q,defaultValue:"",rules:{required:s.formatMessage({id:"Register.validation.emailRequired",defaultMessage:"Email is required"}),pattern:{value:/\S+@\S+\.\S+/,message:s.formatMessage({id:"Register.validation.emailInvalid",defaultMessage:"Invalid email address"})}},render:e=>{let{field:s}=e;return(0,i.jsx)(n.p,{id:"email",type:"email",placeholder:"m@example.com",className:C.email?"border-red-500":"",...s})}}),C.email&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:C.email.message})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between",children:[(0,i.jsxs)("div",{className:"grid gap-2 mb-6 md:mb-0",children:[(0,i.jsx)(m.J,{htmlFor:"firstName",children:(0,i.jsx)(f.A,{id:"Register.firstName",defaultMessage:"Vorname"})}),(0,i.jsx)(h.xI,{name:"firstName",control:q,defaultValue:"",rules:{required:s.formatMessage({id:"Register.validation.firstNameRequired",defaultMessage:"Vorname ist erforderlich"}),minLength:{value:2,message:s.formatMessage({id:"Register.validation.firstNameMinLength",defaultMessage:"Vorname muss mindestens 2 Zeichen lang sein"})}},render:e=>{let{field:s}=e;return(0,i.jsx)(n.p,{id:"firstName",type:"text",className:C.firstName?"border-red-500":"",...s})}}),C.firstName&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:C.firstName.message})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(m.J,{htmlFor:"lastName",children:(0,i.jsx)(f.A,{id:"Register.lastName",defaultMessage:"Nachname"})}),(0,i.jsx)(h.xI,{name:"lastName",control:q,defaultValue:"",rules:{required:s.formatMessage({id:"Register.validation.lastNameRequired",defaultMessage:"Nachname ist erforderlich"}),minLength:{value:2,message:s.formatMessage({id:"Register.validation.lastNameMinLength",defaultMessage:"Nachname muss mindestens 2 Zeichen lang sein"})}},render:e=>{let{field:s}=e;return(0,i.jsx)(n.p,{id:"lastName",type:"text",className:C.lastName?"border-red-500":"",...s})}}),C.lastName&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:C.lastName.message})]})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(m.J,{htmlFor:"password",children:(0,i.jsx)(f.A,{id:"Register.password",defaultMessage:"Passwort"})}),(0,i.jsx)(h.xI,{name:"password",control:q,defaultValue:"",rules:{required:s.formatMessage({id:"Register.validation.passwordRequired",defaultMessage:"Passwort ist erforderlich"}),minLength:{value:6,message:s.formatMessage({id:"Register.validation.passwordMinLength",defaultMessage:"Passwort muss mindestens 6 Zeichen lang sein"})}},render:e=>{let{field:s}=e;return(0,i.jsx)(n.p,{id:"password",type:"password",className:C.password?"border-red-500":"",...s})}}),C.password&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:C.password.message})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(m.J,{htmlFor:"confirmPassword",children:(0,i.jsx)(f.A,{id:"Register.confirmPassword",defaultMessage:"Passwort best\xe4tigen"})}),(0,i.jsx)(h.xI,{name:"confirmPassword",control:q,defaultValue:"",rules:{required:s.formatMessage({id:"Register.validation.confirmPasswordRequired",defaultMessage:"Passwort ist erforderlich"}),minLength:{value:6,message:s.formatMessage({id:"Register.validation.passwordMinLength",defaultMessage:"Passwort muss mindestens 6 Zeichen lang sein"})},validate:e=>e===F("password")||s.formatMessage({id:"Register.validation.passwordMismatch",defaultMessage:"Passw\xf6rter stimmen nicht \xfcberein"})},render:e=>{let{field:s}=e;return(0,i.jsx)(n.p,{id:"confirmPassword",type:"password",className:C.confirmPassword?"border-red-500":"",...s})}}),C.confirmPassword&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:C.confirmPassword.message})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(m.J,{htmlFor:"image",children:(0,i.jsx)(f.A,{id:"Register.image",defaultMessage:"Profilbild (optional)"})}),(0,i.jsxs)("div",{className:"flex items-end gap-4",children:[P&&(0,i.jsx)("div",{className:"relative w-16 h-16 rounded-sm overflow-hidden",children:(0,i.jsx)(g.default,{src:P,alt:"Profile preview",layout:"fill",objectFit:"cover"})}),(0,i.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,i.jsx)(n.p,{id:"image",type:"file",accept:"image/*",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a){y(a);let e=new FileReader;e.onloadend=()=>{L(e.result)},e.readAsDataURL(a)}},className:"w-full"}),P&&(0,i.jsx)(N.A,{className:"cursor-pointer",onClick:()=>{L(null)}})]})]})]})]}),(0,i.jsxs)(d.wL,{className:"flex-col gap-2 px-0 pt-6",children:[(0,i.jsx)(t.$,{type:"submit",className:"w-full cursor-pointer",disabled:M,children:M?(0,i.jsx)(w.A,{size:16,className:"animate-spin"}):(0,i.jsx)(f.A,{id:"Register.registerButton",defaultMessage:"Registrieren"})}),(0,i.jsxs)(t.$,{disabled:M,onClick:async()=>{await p.y.signIn.social({provider:"google",callbackURL:"/".concat(e)},{onRequest:()=>{R(!0)},onResponse:()=>{R(!1)}})},variant:"outline",className:"w-full cursor-pointer",children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"0.98em",height:"1em",viewBox:"0 0 256 262",children:[(0,i.jsx)("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622l38.755 30.023l2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}),(0,i.jsx)("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055c-34.523 0-63.824-22.773-74.269-54.25l-1.531.13l-40.298 31.187l-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}),(0,i.jsx)("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82c0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602z"}),(0,i.jsx)("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0C79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"})]}),(0,i.jsx)(f.A,{id:"Login.loginWithGoogle",defaultMessage:"Mit Google anmelden"})]})]})]})}),a&&(0,i.jsx)("div",{className:"text-center py-2 mt-4 text-red-500 text-sm bg-red-500/10",children:a})]})})})]})}},7297:(e,s,a)=>{"use strict";a.d(s,{y:()=>i});let i=(0,a(9659).MB)({baseURL:"http://localhost:3000"})},8002:(e,s,a)=>{Promise.resolve().then(a.bind(a,6387))}},e=>{var s=s=>e(e.s=s);e.O(0,[486,274,483,659,580,203,952,441,684,358],()=>s(8002)),_N_E=e.O()}]);