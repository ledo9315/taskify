(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{1154:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});let i=(0,a(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5103:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var i=a(5155),l=a(5977),r=a(2580),t=a(285),n=a(6695),d=a(2523),o=a(5057),c=a(7297),m=a(1154),u=a(6874),g=a.n(u),x=a(5695),f=a(2115),h=a(2177),p=a(7011),j=a(7328),M=a(6671);function v(){let{locale:e}=(0,x.useParams)(),s=(0,p.A)(),a=(0,x.useSearchParams)(),[u,v]=(0,f.useState)(!1),[w,N]=(0,f.useState)(null);(0,f.useEffect)(()=>{(null==a?void 0:a.get("emailVerified"))==="1"&&(M.oR.success(s.formatMessage({id:"Login.emailVerifiedSuccess",defaultMessage:"E-Mail erfolgreich verifiziert! Du kannst dich jetzt anmelden."})),window.history.replaceState({},"","/".concat(e,"/login")))},[a,s,e]);let{handleSubmit:L,control:b,reset:A,formState:{errors:E}}=(0,h.mN)({mode:"onSubmit",shouldUseNativeValidation:!1}),y=async a=>{await c.y.signIn.email({email:a.email,password:a.password,callbackURL:"/".concat(e)},{onRequest:()=>{v(!0),N(null)},onResponse:()=>{v(!1)},onSuccess:()=>{M.oR.success(s.formatMessage({id:"Login.loginSuccess",defaultMessage:"Erfolgreich angemeldet!"})),N(null)},onError:e=>{403===e.error.status?N(s.formatMessage({id:"Login.emailVerificationRequired",defaultMessage:"Bitte verifiziere deine E-Mail-Adresse. Eine Verifizierungs-E-Mail wurde an dich gesendet."})):401===e.error.status?N(s.formatMessage({id:"Login.invalidCredentials",defaultMessage:"Ung\xfcltige E-Mail-Adresse oder Passwort."})):N(e.error.message||s.formatMessage({id:"Login.loginFailed",defaultMessage:"Anmeldung fehlgeschlagen. Bitte versuche es erneut."}))}}),A()};return(0,i.jsxs)("div",{className:"bg-background flex flex-col",children:[(0,i.jsx)(r.Navigation,{}),(0,i.jsx)(l.M,{className:"h-[calc(100vh-64px)]",size:"xl",children:(0,i.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,i.jsxs)(n.Zp,{className:"w-full max-w-md mb-20",children:[(0,i.jsxs)(n.aR,{children:[(0,i.jsx)(n.ZB,{children:(0,i.jsx)(j.A,{id:"Login.title",defaultMessage:"Bei deinem Konto anmelden"})}),(0,i.jsx)(n.BT,{children:(0,i.jsx)(j.A,{id:"Login.description",defaultMessage:"Gib deine E-Mail-Adresse unten ein, um dich bei deinem Konto anzumelden"})}),(0,i.jsx)(n.X9,{children:(0,i.jsx)(g(),{href:"/".concat(e,"/register"),children:(0,i.jsx)(t.$,{className:"cursor-pointer",variant:"link",children:(0,i.jsx)(j.A,{id:"Login.signUpLink",defaultMessage:"Registrieren"})})})})]}),(0,i.jsx)(n.Wu,{children:(0,i.jsxs)("form",{onSubmit:L(y),children:[(0,i.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(o.J,{htmlFor:"email",children:(0,i.jsx)(j.A,{id:"Login.email",defaultMessage:"E-Mail"})}),(0,i.jsx)(h.xI,{name:"email",control:b,defaultValue:"",rules:{required:s.formatMessage({id:"Login.validation.emailRequired",defaultMessage:"Email ist erforderlich"}),pattern:{value:/\S+@\S+\.\S+/,message:s.formatMessage({id:"Login.validation.emailInvalid",defaultMessage:"Ung\xfcltige E-Mail-Adresse"})}},render:e=>{let{field:s}=e;return(0,i.jsx)(d.p,{id:"email",type:"email",placeholder:"m@example.com",className:E.email?"border-red-500":"",...s})}}),E.email&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:E.email.message})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(o.J,{htmlFor:"password",children:(0,i.jsx)(j.A,{id:"Login.password",defaultMessage:"Passwort"})}),(0,i.jsx)(g(),{href:"/".concat(e,"/forgot-password"),className:"text-sm underline cursor-pointer",children:(0,i.jsx)(j.A,{id:"Login.ForgotPassword",defaultMessage:"Passwort vergessen?"})})]}),(0,i.jsx)(h.xI,{name:"password",control:b,defaultValue:"",rules:{required:s.formatMessage({id:"Login.validation.passwordRequired",defaultMessage:"Passwort ist erforderlich"}),minLength:{value:6,message:s.formatMessage({id:"Login.validation.passwordMinLength",defaultMessage:"Passwort muss mindestens 6 Zeichen lang sein"})}},render:e=>{let{field:s}=e;return(0,i.jsx)(d.p,{id:"password",type:"password",className:E.password?"border-red-500":"",...s})}}),E.password&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:E.password.message})]})]}),(0,i.jsxs)(n.wL,{className:"flex-col gap-2 px-0 pt-6",children:[(0,i.jsx)(t.$,{type:"submit",className:"w-full cursor-pointer",disabled:u,children:u?(0,i.jsx)(m.A,{size:16,className:"animate-spin"}):(0,i.jsx)(j.A,{id:"Login.loginButton",defaultMessage:"Anmelden"})}),(0,i.jsxs)(t.$,{disabled:u,onClick:async()=>{await c.y.signIn.social({provider:"google",callbackURL:"/".concat(e)},{onRequest:()=>{v(!0)},onResponse:()=>{v(!1)}})},variant:"outline",className:"w-full cursor-pointer",children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"0.98em",height:"1em",viewBox:"0 0 256 262",children:[(0,i.jsx)("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622l38.755 30.023l2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}),(0,i.jsx)("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055c-34.523 0-63.824-22.773-74.269-54.25l-1.531.13l-40.298 31.187l-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}),(0,i.jsx)("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82c0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602z"}),(0,i.jsx)("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0C79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"})]}),(0,i.jsx)(j.A,{id:"Login.loginWithGoogle",defaultMessage:"Mit Google anmelden"})]})]})]})}),w&&(0,i.jsxs)("div",{className:"text-center py-2 mt-4 text-red-500 text-sm bg-red-500/10 rounded-md",children:[w,w.includes("verifiziere")&&(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(g(),{href:"/".concat(e,"/verify-email"),className:"text-blue-500 underline hover:text-blue-700",children:(0,i.jsx)(j.A,{id:"Login.resendVerification",defaultMessage:"Verifizierungs-E-Mail erneut senden"})})})]})]})})})]})}},5977:(e,s,a)=>{"use strict";a.d(s,{M:()=>r});var i=a(5155),l=a(9434);let r=e=>{let{className:s,children:a,size:r}=e;return(0,i.jsx)("div",{className:(0,l.cn)(s),children:(0,i.jsx)("div",{className:"container max-w-".concat(r," mx-auto h-full"),children:a})})}},7297:(e,s,a)=>{"use strict";a.d(s,{y:()=>i});let i=(0,a(9659).MB)({baseURL:"http://localhost:3000"})},9104:(e,s,a)=>{Promise.resolve().then(a.bind(a,5103))}},e=>{var s=s=>e(e.s=s);e.O(0,[486,274,483,659,580,671,203,952,441,684,358],()=>s(9104)),_N_E=e.O()}]);